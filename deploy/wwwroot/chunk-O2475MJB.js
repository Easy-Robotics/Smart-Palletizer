function B(y,l){if(!y||!l)throw new Error("Canvas or pallet data is not provided.");let e={height:0,width:0,left:0,top:0},c={length:300,width:300,left:0,top:0},p={length:l.palletDimension.length,width:l.palletDimension.width};p.width>=p.length?(e.width=c.width,e.height=p.length/p.width*c.length,e.top=c.top+(c.length-e.height)):(e.height=c.length,e.width=p.width/p.length*c.width);let d=50;e.left+=d,e.top-=0;let o=y.getContext("2d");if(o){o.clearRect(0,0,y.width,y.height),o.fillStyle="rgba(211, 211, 211, 1)",o.fillRect(e.left,e.top,e.width,e.height),o.fillStyle="rgba(0, 0, 0, 1)",o.font="12px Times New Roman",o.fillText("Width",e.left+e.width/2,e.top+e.height+15),o.save(),o.translate(e.left-15,e.top+e.height/2),o.rotate(-Math.PI/2),o.fillStyle="rgba(0, 0, 0, 1)",o.font="12px Times New Roman",o.fillText("Length",0,0),o.restore();let g=40;o.beginPath(),o.moveTo(e.left,e.top+e.height),o.lineTo(e.left+g,e.top+e.height),o.strokeStyle="rgba(255, 0, 0, 1)",o.lineWidth=4,o.stroke();let i=8,t=8,r=e.left+g+i,f=e.top+e.height;o.beginPath(),o.moveTo(r,f),o.lineTo(r-i,f-t/2),o.lineTo(r-i,f+t/2),o.closePath(),o.fillStyle="rgba(255, 0, 0, 1)",o.fill(),o.font="12px Times New Roman",o.fillStyle="rgba(255, 0, 0, 1)",o.textAlign="center",o.fillText("X",r,f+20),o.beginPath(),o.moveTo(e.left,e.top+e.height),o.lineTo(e.left,e.top+e.height-g),o.strokeStyle="rgba(0, 128, 0, 1)",o.lineWidth=4,o.stroke();let w=8,m=8,P=e.left,u=e.top+e.height-g-w;return o.beginPath(),o.moveTo(P,u),o.lineTo(P-m/2,u+w),o.lineTo(P+m/2,u+w),o.closePath(),o.fillStyle="rgba(0, 128, 0, 1)",o.fill(),o.save(),o.translate(P-20,u),o.rotate(-Math.PI/2),o.font="12px Times New Roman",o.fillStyle="rgba(0, 128, 0, 1)",o.textAlign="center",o.fillText("Y",0,0),o.restore(),o.font="12px Times New Roman",o.fillStyle="rgba(0, 0, 255, 1)",o.textAlign="center",o.fillText("Z",e.left-10,e.top+e.height+10),e}else throw new Error("Failed to get canvas context.")}function j(y,l,e,c){if(!y||!l)throw new Error("Canvas or product data is not provided.");let p={length:l.generatorConfiguration.productData.productDimension.length,width:l.generatorConfiguration.productData.productDimension.width},d={length:l.generatorConfiguration.palletData.palletDimension.length,width:l.generatorConfiguration.palletData.palletDimension.width},o={left:e.left,top:e.top+e.height},g={length:e.height,width:e.width};if(c<0||c>=l.generatorResults.layerStackingData.length)throw new Error("No products exists on this layer.");let i=l.generatorResults.layerStackingData[c].lastIndexInPointTable-l.generatorResults.layerStackingData[c].startIndexInPointTable+1;try{let t=y.getContext("2d");if(t){let r,f,w,m,P,u;for(let s=0;s<i;s++){let a={left:l.hmiProductPositions[c].productPositionX[s],top:l.hmiProductPositions[c].productPositionY[s],rotation:l.hmiProductPositions[c].productPositionA[s]};a.rotation>-1&&a.rotation<1||a.rotation>179&&a.rotation<181||a.rotation>-181&&a.rotation<-179?(r=p.length/d.length*g.length,f=p.width/d.width*g.width):(a.rotation>89&&a.rotation<91||a.rotation>-91&&a.rotation<-89)&&(r=p.width/d.width*g.width,f=p.length/d.length*g.length),w=o.left+a.left/d.width*g.width-.5*f,m=-r+o.top-a.top/d.length*g.length+.5*r,P=a.rotation*-1,u=s+1,t.fillStyle="rgba(102, 102, 126, 1)",t.fillRect(w,m,f,r),t.fillStyle="rgba(163, 163, 202, 1)",t.strokeStyle="black",t.lineWidth=1,t.strokeRect(w,m,f,r),t.fillStyle="rgba(255, 255, 255, 1)",t.font="12px Times New Roman",t.save(),t.translate(w+f/2,m+r/2),t.rotate(P*Math.PI/180),t.fillText(`${u}`,10,10),t.beginPath(),t.moveTo(0,0),t.lineTo(0,-r/4),t.lineTo(-5,-r/4+10),t.lineTo(5,-r/4+10),t.lineTo(0,-r/4),t.closePath(),t.fill(),t.restore()}}else throw new Error("Canvas context is not available.")}catch{throw new Error("Failed to draw product on canvas.")}}function Z(y,l,e,c){if(!y||!l)throw new Error("Canvas or product data is not provided.");let p={length:l.generatorConfiguration.productData.productDimension.length,width:l.generatorConfiguration.productData.productDimension.width},d={length:l.generatorConfiguration.palletData.palletDimension.length,width:l.generatorConfiguration.palletData.palletDimension.width},o={left:e.left,top:e.top+e.height},g={length:e.height,width:e.width};try{let i=y.getContext("2d");if(i){let t,r,f,w,m,P,u=l.generatorResults.layerLayouts[c];for(let s=0;s<u.numOfProductsInLayer;s++){let a={left:u.layerPositions[s].x,top:u.layerPositions[s].y,rotation:u.layerPositions[s].a};a.rotation>-1&&a.rotation<1||a.rotation>179&&a.rotation<181||a.rotation>-181&&a.rotation<-179?(t=p.length/d.length*g.length,r=p.width/d.width*g.width):(a.rotation>89&&a.rotation<91||a.rotation>-91&&a.rotation<-89)&&(t=p.width/d.width*g.width,r=p.length/d.length*g.length),f=o.left+a.left/d.width*g.width-.5*r,w=-t+o.top-a.top/d.length*g.length+.5*t,m=a.rotation*-1,P=s+1,i.fillStyle="rgba(102, 102, 126, 1)",i.fillRect(f,w,r,t),i.fillStyle="rgba(163, 163, 202, 1)",i.strokeStyle="black",i.lineWidth=1,i.strokeRect(f,w,r,t),i.fillStyle="rgba(255, 255, 255, 1)",i.font="12px Times New Roman",i.save(),i.translate(f+r/2,w+t/2),i.rotate(m*Math.PI/180),i.fillText(`${P}`,10,10),i.beginPath(),i.moveTo(0,0),i.lineTo(0,-t/4),i.lineTo(-5,-t/4+10),i.lineTo(5,-t/4+10),i.lineTo(0,-t/4),i.closePath(),i.fill(),i.restore()}}else throw new Error("Canvas context is not available.")}catch{throw new Error("Failed to draw product on canvas.")}}function q(y,l,e,c,p){if(!y||!l)throw new Error("Canvas or product data is not provided.");let d={length:l.generatorConfiguration.productData.productDimension.length,width:l.generatorConfiguration.productData.productDimension.width},o={length:l.generatorConfiguration.palletData.palletDimension.length,width:l.generatorConfiguration.palletData.palletDimension.width},g={left:e.left,top:e.top+e.height},i={length:e.height,width:e.width};try{let t=y.getContext("2d");if(t){let D=function(){let h=Math.floor(Math.random()*75+180),n=Math.floor(Math.random()*75+180),T=Math.floor(Math.random()*75+180);return`rgb(${h},${n},${T})`},r,f,w,m,P,u,s=l.generatorResults.layerLayouts[c-1];for(let h=0;h<s.numOfProductsInLayer;h++){let n={left:s.layerPositions[h].x,top:s.layerPositions[h].y,rotation:s.layerPositions[h].a};n.rotation>-1&&n.rotation<1||n.rotation>179&&n.rotation<181||n.rotation>-181&&n.rotation<-179?(r=d.length/o.length*i.length,f=d.width/o.width*i.width):(n.rotation>89&&n.rotation<91||n.rotation>-91&&n.rotation<-89)&&(r=d.width/o.width*i.width,f=d.length/o.length*i.length),w=g.left+n.left/o.width*i.width-.5*f,m=-r+g.top-n.top/o.length*i.length+.5*r,P=n.rotation*-1,u=h+1,t.fillStyle="rgba(102, 102, 126, 1)",t.fillRect(w,m,f,r),t.fillStyle="rgba(163, 163, 202, 1)",t.strokeStyle="black",t.lineWidth=1,t.strokeRect(w,m,f,r),t.fillStyle="rgba(255, 255, 255, 1)",t.font="12px Times New Roman",t.save(),t.translate(w+f/2,m+r/2),t.rotate(P*Math.PI/180),t.fillText(`${u}`,10,10),t.beginPath(),t.moveTo(0,0),t.lineTo(0,-r/4),t.lineTo(-5,-r/4+10),t.lineTo(5,-r/4+10),t.lineTo(0,-r/4),t.closePath(),t.fill(),t.restore()}let a=l.generatorResults.layerStackingData[p].startIndexInPointTable-1,O=l.generatorResults.layerStackingData[p].lastIndexInPointTable-1,A=l.productPositions.slice(a,O+1),R=s.layerPositions,$=1;for(let h=0;h<s.numOfProductsInLayer;h++)h>0&&A[h].multiGripper.multiPlaceWithPrevProduct?R[h].blockNo=R[h-1].blockNo:R[h].blockNo=$++;let I={};for(let h=0;h<s.numOfProductsInLayer;h++){let n=R[h].blockNo;n&&n>0&&(I[n]||(I[n]=[]),I[n].push(h))}Object.values(I).forEach(h=>{let n=1/0,T=1/0,k=-1/0,S=-1/0;h.forEach(X=>{let W=s.layerPositions[X],b={left:W.x,top:W.y,rotation:W.a},L,v;b.rotation>-1&&b.rotation<1||b.rotation>179&&b.rotation<181||b.rotation>-181&&b.rotation<-179?(L=d.length/o.length*i.length,v=d.width/o.width*i.width):(b.rotation>89&&b.rotation<91||b.rotation>-91&&b.rotation<-89)&&(L=d.width/o.width*i.width,v=d.length/o.length*i.length);let M=g.left+b.left/o.width*i.width-.5*v,C=-L+g.top-b.top/o.length*i.length+.5*L,Y=M+v,F=C+L;n=Math.min(n,M),T=Math.min(T,C),k=Math.max(k,Y),S=Math.max(S,F)});let x=1;t.save(),t.strokeStyle="red",t.lineWidth=2,t.setLineDash([6,4]),t.strokeRect(n-x,T-x,k-n+2*x,S-T+2*x),t.setLineDash([]),t.restore(),t.save(),t.font="bold 14px Arial",t.fillStyle="red",t.textBaseline="top",t.fillText(`#${R[h[0]].blockNo}`,n-x+10,T-x+4),t.restore()});return}else throw new Error("Canvas context is not available.")}catch{throw new Error("Failed to draw product on canvas.")}}export{B as a,j as b,Z as c,q as d};
